<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
    template="/templates/jsfshop-template.xhtml">

<ui:define name="title">Welcome to the JSF-Webshop!</ui:define>
<ui:define name="header"><ui:include src="/snippets/header.xhtml"/></ui:define>
<ui:define name="menu"><ui:include src="/snippets/google-search-box.xhtml"/></ui:define>

<ui:define name="body">
	<table><tr><td>
	<h:form>
		<h2>Manage Categories</h2>
		<h:commandButton value="new category" action="#{manageCategoriesBean.newCategory}"/>
		<h:commandButton value="save" action="#{manageCategoriesBean.save}"/>
		
		<h:dataTable var="category" value="#{manageCategoriesBean.categories}"
              id="categoryTable">
			<h:column>
				<f:facet name="header">Name</f:facet>
				<h:inputText value="#{category.name}" size="10" />
			</h:column>
			<h:column>
				<f:facet name="header"></f:facet>
				<h:commandButton value="delete" action="#{manageCategoriesBean.deleteCategory}">
					<f:setPropertyActionListener 
							target="#{manageCategoriesBean.currentCategoryNumber}"
							value="#{category.number}" />
				</h:commandButton>
			</h:column>
		</h:dataTable>
		<h:messages styleClass="error"/>
	</h:form>
	</td></tr></table>
</ui:define>

<ui:define name="footer"><ui:include src="/snippets/footer.xhtml"/></ui:define>
</ui:composition>