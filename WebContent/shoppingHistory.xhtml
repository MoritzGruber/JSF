<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
    template="/templates/jsfshop-template.xhtml">

<ui:define name="title">Welcome to the JSF-Webshop!</ui:define>
<ui:define name="header"><ui:include src="/snippets/header.xhtml"/></ui:define>
<ui:define name="menu"><ui:include src="/snippets/google-search-box.xhtml"/></ui:define>

<ui:define name="body">
	<table><tr><td>
		<h1>Your Shopping History</h1>
		<table>
			<tr><th>Date</th><th>Total</th></tr>
			<ui:repeat 
				var="cart" 
				value="#{shoppingHistoryBean.currentUser.userAccount.shoppingHistory}">
				<tr>
					<td>
						<h:outputText value="#{cart.payedDate}">
							<f:convertDateTime pattern="dd.MM.yyyy HH:mm" 
								timeZone="GMT+2"/>
						</h:outputText>
					</td>
					<td align="right">
						#{cart.total}
					</td>
				</tr>
			</ui:repeat>
		</table>
	</td></tr></table>
</ui:define>

<ui:define name="footer"><ui:include src="/snippets/footer.xhtml"/></ui:define>
</ui:composition>